---
import "../styles/tailwind.css";
import type { House } from "../model/house";
import Header from "../components/Header.astro";
import EditingHouseCard from "../components/EditingHouseCard.astro";
const PORT = process.env.PORT || 3001;

const response = await fetch(`http://localhost:${PORT}/houses`);
const houses = await response.json();
---

<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Oasis Vive</title>
  </head>
  <body class="font-sans">
    <Header />
    <main
      id="content"
      class="flex-col mt-30 lg:mt-20 transition-all duration-500 ease-in-out"
    >
    <div class="justify-items-center py-5 px-8">
        <h1 class="mb-10 text-5xl text-primary-400 text-white text-center">Aqu√≠ puedes gestionar tus propiedades:</h1>
        {
          houses
            .map((house: House) => <EditingHouseCard key={house.id} house={house} />)
        }
      </div>
    </main>
  </body>
</html>
